# OpenGL Shapes: Flat & Gradient Shading

–ü—Ä–æ–µ–∫—Ç –Ω–∞ C++ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SFML –∏ OpenGL 2.1 (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å macOS). –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∫—É –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤, —Ä–∞–±–æ—Ç—É —Å —à–µ–π–¥–µ—Ä–∞–º–∏ (GLSL 1.20), –ø–µ—Ä–µ–¥–∞—á—É Uniform-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é —Ü–≤–µ—Ç–æ–≤ –≤–µ—Ä—à–∏–Ω (–≥—Ä–∞–¥–∏–µ–Ω—Ç).

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1.  –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç—Ä–µ—Ö —Ñ–∏–≥—É—Ä: —á–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫–∞, –≤–µ–µ—Ä–∞ (–ø–æ–ª—É–∫—Ä—É–≥–∞) –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø—è—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫–∞.
2.  –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ (`glDrawArrays`) –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ—á–µ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä—ã.
3.  –ü–ª–æ—Å–∫–æ–µ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `uniform`-–ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
4.  –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–µ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –≤–µ—Ä—à–∏–Ω).

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

*   **–ü—Ä–æ–±–µ–ª (Space):** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ –∑–∞–∫—Ä–∞—Å–∫–∏ (–ü–ª–æ—Å–∫–∞—è / –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–∞—è).
*   **–ó–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞:** –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

---

## üõ† –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–Ω–∫—Ç–æ–≤ –∑–∞–¥–∞–Ω–∏—è

–ù–∏–∂–µ –æ–ø–∏—Å–∞–Ω–æ, –≥–¥–µ –∏ –∫–∞–∫ –≤ –∫–æ–¥–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.

### 1. –†–∏—Å–æ–≤–∞–Ω–∏–µ —Ñ–∏–≥—É—Ä (–ß–µ—Ç—ã—Ä–µ—Ö—É–≥–æ–ª—å–Ω–∏–∫, –í–µ–µ—Ä, –ü—è—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫)
**–°—É—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –≤–µ—Ä—à–∏–Ω –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.

*   **–í –∫–æ–¥–µ (C++):**
    –ú—ã —Å–æ–∑–¥–∞–µ–º —Ç—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –±—É—Ñ–µ—Ä–∞ (VBO) —Å —Ä–∞–∑–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –≤–µ—Ä—à–∏–Ω:
    *   `InitQuadData`: 4 –≤–µ—Ä—à–∏–Ω—ã.
    *   `InitFanData`: 32 –≤–µ—Ä—à–∏–Ω—ã (—Ü–µ–Ω—Ç—Ä + —Ç–æ—á–∫–∏ –¥—É–≥–∏).
    *   `InitPentagonData`: 7 –≤–µ—Ä—à–∏–Ω (—Ü–µ–Ω—Ç—Ä + 5 —É–≥–ª–æ–≤ + –∑–∞–º—ã–∫–∞—é—â–∞—è).
*   **–§—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:**
    –í —Ü–∏–∫–ª–µ `main` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `glDrawArrays` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–µ—Ä—à–∏–Ω, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä–µ:
    ```cpp
    glDrawArrays(GL_TRIANGLE_FAN, 0, quad_vertex_count);     // 4 —Ç–æ—á–∫–∏
    glDrawArrays(GL_TRIANGLE_FAN, 0, fan_vertex_count);      // ~32 —Ç–æ—á–∫–∏
    glDrawArrays(GL_TRIANGLE_FAN, 0, pentagon_vertex_count); // 7 —Ç–æ—á–µ–∫
    ```

### 2. –ü–ª–æ—Å–∫–æ–µ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ (–¶–≤–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π –≤ —à–µ–π–¥–µ—Ä–µ)
**–°—É—Ç—å:** –í—Å—è —Ñ–∏–≥—É—Ä–∞ –∑–∞–ª–∏–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º —Ü–≤–µ—Ç–æ–º.

*   **–í –∫–æ–¥–µ (GLSL –§—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–π —à–µ–π–¥–µ—Ä):**
    –ö–æ–≥–¥–∞ —Ä–µ–∂–∏–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞ –≤—ã–∫–ª—é—á–µ–Ω (`useGradient == 0`), —à–µ–π–¥–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–¥–∏–Ω—ã–π —Ü–≤–µ—Ç:
    ```glsl
    gl_FragColor = flatColor;
    ```
    –ó–¥–µ—Å—å `flatColor` –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è —Ç–µ–∫—É—â–µ–π –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.

### 3. –ü–µ—Ä–µ–¥–∞—á–∞ —Ü–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ Uniform-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
**–°—É—Ç—å:** –¶–≤–µ—Ç –¥–ª—è –ø–ª–æ—Å–∫–æ–≥–æ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –∑–∞–¥–∞–µ—Ç—Å—è –≤ C++ –ø—Ä–æ–≥—Ä–∞–º–º–µ.

*   **–í –∫–æ–¥–µ (C++):**
    –ü–µ—Ä–µ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π –∫–∞–∂–¥–æ–π —Ñ–∏–≥—É—Ä—ã –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Ü–≤–µ—Ç —á–µ—Ä–µ–∑ `glUniform4f`:
    ```cpp
    glUniform4f(Unif_flatColor, 1.0f, 0.0f, 0.0f, 1.0f); // –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–∞
    glUniform4f(Unif_flatColor, 0.0f, 1.0f, 0.0f, 1.0f); // –ó–µ–ª–µ–Ω—ã–π –¥–ª—è –≤–µ–µ—Ä–∞
    glUniform4f(Unif_flatColor, 0.0f, 0.0f, 1.0f, 1.0f); // –°–∏–Ω–∏–π –¥–ª—è –ø—è—Ç–∏—É–≥–æ–ª—å–Ω–∏–∫–∞
    ```
*   **–í –∫–æ–¥–µ (GLSL):**
    –®–µ–π–¥–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ: `uniform vec4 flatColor;`.

### 4. –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–µ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ (–ö–∞–∂–¥–∞—è –≤–µ—Ä—à–∏–Ω–∞ —Å–≤–æ–∏–º —Ü–≤–µ—Ç–æ–º)
**–°—É—Ç—å:** –ü–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Ü–≤–µ—Ç–æ–≤ –º–µ–∂–¥—É –≤–µ—Ä—à–∏–Ω–∞–º–∏ (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è).

*   **–í –∫–æ–¥–µ (C++ –î–∞–Ω–Ω—ã–µ):**
    –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Vertex` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª—è —Ü–≤–µ—Ç–∞ `r, g, b`. –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–π –≤–µ—Ä—à–∏–Ω–µ –∑–∞–¥–∞–µ—Ç—Å—è —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–∞ —É–≥–ª–æ–≤ –∫–≤–∞–¥—Ä–∞—Ç–∞).
*   **–í –∫–æ–¥–µ (C++ –ü—Ä–∏–≤—è–∑–∫–∞):**
    –ú—ã —É–∫–∞–∑—ã–≤–∞–µ–º OpenGL, –≥–¥–µ –±—Ä–∞—Ç—å —Ü–≤–µ—Ç –≤ –º–∞—Å—Å–∏–≤–µ –¥–∞–Ω–Ω—ã—Ö:
    ```cpp
    // –°–º–µ—â–µ–Ω–∏–µ (void*)(2 * sizeof(GLfloat)) —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª–æ —Ü–≤–µ—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –≤–µ—Ä—à–∏–Ω–µ
    glVertexAttribPointer(Attrib_color, 3, GL_FLOAT, GL_FALSE, sizeof(Vertex), (void*)(2 * sizeof(GLfloat)));
    ```
*   **–í –∫–æ–¥–µ (GLSL –®–µ–π–¥–µ—Ä—ã):**
    *   **Vertex Shader:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `attribute vec3 color` –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤ `varying vec3 vColor`.
    *   **Fragment Shader:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `vColor`. –í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–º–µ—à–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç–∞ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏.

---

## üöÄ –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (macOS)

–î–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π SFML –∏ GLEW (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Homebrew).

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:**

```bash
g++ main.cpp -o shapes \
  -std=c++17 \
  -I/opt/homebrew/include \
  -L/opt/homebrew/lib \
  -lsfml-graphics -lsfml-window -lsfml-system -lglew \
  -framework OpenGL